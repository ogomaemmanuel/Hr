(window.webpackJsonp=window.webpackJsonp||[]).push([[69],{327:function(s,t,a){var e={"./af":191,"./af.js":191,"./ar":192,"./ar-dz":193,"./ar-dz.js":193,"./ar-kw":194,"./ar-kw.js":194,"./ar-ly":195,"./ar-ly.js":195,"./ar-ma":196,"./ar-ma.js":196,"./ar-sa":197,"./ar-sa.js":197,"./ar-tn":198,"./ar-tn.js":198,"./ar.js":192,"./az":199,"./az.js":199,"./be":200,"./be.js":200,"./bg":201,"./bg.js":201,"./bm":202,"./bm.js":202,"./bn":203,"./bn-bd":204,"./bn-bd.js":204,"./bn.js":203,"./bo":205,"./bo.js":205,"./br":206,"./br.js":206,"./bs":207,"./bs.js":207,"./ca":208,"./ca.js":208,"./cs":209,"./cs.js":209,"./cv":210,"./cv.js":210,"./cy":211,"./cy.js":211,"./da":212,"./da.js":212,"./de":213,"./de-at":214,"./de-at.js":214,"./de-ch":215,"./de-ch.js":215,"./de.js":213,"./dv":216,"./dv.js":216,"./el":217,"./el.js":217,"./en-au":218,"./en-au.js":218,"./en-ca":219,"./en-ca.js":219,"./en-gb":220,"./en-gb.js":220,"./en-ie":221,"./en-ie.js":221,"./en-il":222,"./en-il.js":222,"./en-in":223,"./en-in.js":223,"./en-nz":224,"./en-nz.js":224,"./en-sg":225,"./en-sg.js":225,"./eo":226,"./eo.js":226,"./es":227,"./es-do":228,"./es-do.js":228,"./es-mx":229,"./es-mx.js":229,"./es-us":230,"./es-us.js":230,"./es.js":227,"./et":231,"./et.js":231,"./eu":232,"./eu.js":232,"./fa":233,"./fa.js":233,"./fi":234,"./fi.js":234,"./fil":235,"./fil.js":235,"./fo":236,"./fo.js":236,"./fr":237,"./fr-ca":238,"./fr-ca.js":238,"./fr-ch":239,"./fr-ch.js":239,"./fr.js":237,"./fy":240,"./fy.js":240,"./ga":241,"./ga.js":241,"./gd":242,"./gd.js":242,"./gl":243,"./gl.js":243,"./gom-deva":244,"./gom-deva.js":244,"./gom-latn":245,"./gom-latn.js":245,"./gu":246,"./gu.js":246,"./he":247,"./he.js":247,"./hi":248,"./hi.js":248,"./hr":249,"./hr.js":249,"./hu":250,"./hu.js":250,"./hy-am":251,"./hy-am.js":251,"./id":252,"./id.js":252,"./is":253,"./is.js":253,"./it":254,"./it-ch":255,"./it-ch.js":255,"./it.js":254,"./ja":256,"./ja.js":256,"./jv":257,"./jv.js":257,"./ka":258,"./ka.js":258,"./kk":259,"./kk.js":259,"./km":260,"./km.js":260,"./kn":261,"./kn.js":261,"./ko":262,"./ko.js":262,"./ku":263,"./ku.js":263,"./ky":264,"./ky.js":264,"./lb":265,"./lb.js":265,"./lo":266,"./lo.js":266,"./lt":267,"./lt.js":267,"./lv":268,"./lv.js":268,"./me":269,"./me.js":269,"./mi":270,"./mi.js":270,"./mk":271,"./mk.js":271,"./ml":272,"./ml.js":272,"./mn":273,"./mn.js":273,"./mr":274,"./mr.js":274,"./ms":275,"./ms-my":276,"./ms-my.js":276,"./ms.js":275,"./mt":277,"./mt.js":277,"./my":278,"./my.js":278,"./nb":279,"./nb.js":279,"./ne":280,"./ne.js":280,"./nl":281,"./nl-be":282,"./nl-be.js":282,"./nl.js":281,"./nn":283,"./nn.js":283,"./oc-lnc":284,"./oc-lnc.js":284,"./pa-in":285,"./pa-in.js":285,"./pl":286,"./pl.js":286,"./pt":287,"./pt-br":288,"./pt-br.js":288,"./pt.js":287,"./ro":289,"./ro.js":289,"./ru":290,"./ru.js":290,"./sd":291,"./sd.js":291,"./se":292,"./se.js":292,"./si":293,"./si.js":293,"./sk":294,"./sk.js":294,"./sl":295,"./sl.js":295,"./sq":296,"./sq.js":296,"./sr":297,"./sr-cyrl":298,"./sr-cyrl.js":298,"./sr.js":297,"./ss":299,"./ss.js":299,"./sv":300,"./sv.js":300,"./sw":301,"./sw.js":301,"./ta":302,"./ta.js":302,"./te":303,"./te.js":303,"./tet":304,"./tet.js":304,"./tg":305,"./tg.js":305,"./th":306,"./th.js":306,"./tk":307,"./tk.js":307,"./tl-ph":308,"./tl-ph.js":308,"./tlh":309,"./tlh.js":309,"./tr":310,"./tr.js":310,"./tzl":311,"./tzl.js":311,"./tzm":312,"./tzm-latn":313,"./tzm-latn.js":313,"./tzm.js":312,"./ug-cn":314,"./ug-cn.js":314,"./uk":315,"./uk.js":315,"./ur":316,"./ur.js":316,"./uz":317,"./uz-latn":318,"./uz-latn.js":318,"./uz.js":317,"./vi":319,"./vi.js":319,"./x-pseudo":320,"./x-pseudo.js":320,"./yo":321,"./yo.js":321,"./zh-cn":322,"./zh-cn.js":322,"./zh-hk":323,"./zh-hk.js":323,"./zh-mo":324,"./zh-mo.js":324,"./zh-tw":325,"./zh-tw.js":325};function i(s){var t=l(s);return a(t)}function l(s){if(!a.o(e,s)){var t=new Error("Cannot find module '"+s+"'");throw t.code="MODULE_NOT_FOUND",t}return e[s]}i.keys=function(){return Object.keys(e)},i.resolve=l,s.exports=i,i.id=327},384:function(s,t,a){"use strict";var e=function(){var s=this._self._c;return s("div",{staticClass:"bg-white min-h-full p-5 flex justify-center align-center"},[s("div",[s("img",{attrs:{src:"/images/undraw_no_data_qbuo.svg",width:"200px",alt:"empty state here"}}),this._v(" "),s("div",{staticClass:"mt-3 flex flex-col justify-center has-text-grey-light"},[this._t("default")],2)])])};e._withStripped=!0;var i={},l=a(15),r=Object(l.a)(i,e,[],!1,null,null,null);t.a=r.exports},399:function(s,t,a){"use strict";(function(s){a(186),a(83);var e=a(187),i=a.n(e),l=a(585);t.a={components:{LeaveRequestHistoryList:l.a},data:()=>({leaveDetail:{},leaveId:!1}),created(){this.leaveId=this.$route.params.id,this.getLeaveDetails()},methods:{getLeaveDetails(){let s=this.$route.params.id,t=this;axios.get("/api/user/leave-requests/summary/"+s).then(s=>{t.leaveDetail=s.data})},getDateDiffence(t,a){let e=s(t),i=s(a);return e.diff(i,"days")},confirmApproval(){this.$buefy.dialog.confirm({title:"Leave Approve",confirmText:"Approve",message:"Are you sure want to approve for this leave?",onConfirm:()=>this.approveLeave()})},openRejectDialog(){this.$buefy.dialog.prompt({message:"Add Comment (Optional)",confirmText:"Proceed",inputAttrs:{placeholder:"e.g. Walter",required:!1},trapFocus:!0,onConfirm:s=>this.$buefy.toast.open("Your name is: "+s)})},approveLeave(){axios.post("/api/leave-request-approvals/"+this.leaveId).then(s=>{i.a.success(s.data.message)},s=>{})},rejectLeaveApproval(s){axios.post("/api/user/leave-approvals/accept/"+this.leaveId,{params:{comment:s}}).then(s=>{this.$buefy.toast.open("User confirmed")},s=>{})}},computed:{daysToEndDate(){return this.getDateDiffence(this.leaveDetail.endDate,new Date)},leaveBalance(){return this.leaveDetail.elligibleDays-this.leaveDetail.daysUsed},balanceAfterApproval(){return this.leaveBalance-this.leaveDetail.numberOfDays}},filters:{dateFormat:t=>s(t).format("DD-MM-YYYY")}}}).call(this,a(0))},400:function(s,t,a){"use strict";(function(s){var e=a(384);t.a={components:{EmptyState:e.a},data:()=>({leaveRequestHistory:[],loaded:!1}),created(){this.getLeaveHistory()},methods:{getLeaveHistory(){let s=this.$route.params.id;axios.get("/api/leave-request-history/"+s).then(s=>{this.leaveRequestHistory=s.data,this.loaded=!0})}},computed:{showEmptyState(){return this.loaded&&this.leaveRequestHistory.length<=0}},filters:{dateFormat:t=>s(t).format("DD-MM-YYYY")}}}).call(this,a(0))},585:function(s,t,a){"use strict";var e=function(){var s=this,t=s._self._c;return t("div",{staticClass:"bg-white"},[s.showEmptyState?t("EmptyState",[t("h4",{staticClass:"ml-10"},[s._v("Leave request has no history")])]):s._e(),s._v(" "),t("div",{staticClass:"is-size-8"},s._l(s.leaveRequestHistory,(function(a){return t("div",{staticClass:"bg-white p-5 h-full w-full"},[t("div",{staticClass:"flex flex-row"},[t("h4",{staticClass:"px-1"},[s._v(s._s(a.leaveStatuses))]),s._v(" "),t("span",[s._m(0,!0),t("span",[t("span",{staticClass:"has-text-primary"},[s._v("Performed On : ")]),s._v(s._s(s._f("dateFormat")(a.createdAt)))]),s._v(" "),s._m(1,!0),t("span",[t("span",{staticClass:"has-text-primary"},[s._v("Performed By: ")]),s._v(s._s(a.user.firstName))])])])])})),0)],1)};e._withStripped=!0;var i=a(400).a,l=a(15),r=Object(l.a)(i,e,[function(){var s=this._self._c;return s("span",{staticClass:"icon px-1"},[s("i",{staticClass:"fa fa-calendar"})])},function(){var s=this._self._c;return s("span",{staticClass:"icon px-1"},[s("i",{staticClass:"fa fa-user"})])}],!1,null,null,null);t.a=r.exports},702:function(s,t,a){"use strict";a.r(t);var e=function(){var s=this,t=s._self._c;return t("div",{staticClass:"is-size-8 h-full"},[t("portal",{attrs:{to:"page-controls"}},[t("div",{staticClass:"py-1 pr-2 flex justify-end"},[t("p",{staticClass:"buttons"},[t("router-link",{staticClass:"button is-rounded",attrs:{tag:"button",to:{name:"leave-create"}}},[t("span",{staticClass:"icon"},[t("i",{staticClass:"fa fa-plus-circle"})]),s._v(" "),t("span",[s._v("New Request")])])],1)])]),s._v(" "),t("div",{staticClass:"flex justify-start"},[t("router-link",{attrs:{tag:"a",to:"/leave"}},[t("span",{staticClass:"icon"},[t("i",{staticClass:"fa fa-angle-left"})]),s._v(" "),t("span",[s._v("Back To List")])])],1),s._v(" "),t("div",{staticClass:"relative bg-white mt-5 p-5"},[t("div",{staticClass:"columns"},[t("div",{staticClass:"column flex gap-4"},[t("h4",{staticClass:"has-text-black"},[s._v("Employee Name")]),s._v(" "),t("h4",{staticClass:"has-text-grey-light"},[s._v(s._s(s.leaveDetail.employee))])]),s._v(" "),t("div",{staticClass:"column flex gap-4"},[t("h4",{staticClass:"has-text-black"},[s._v("Date Submitted")]),s._v(" "),t("h4",{staticClass:"has-text-grey-light"},[s._v(s._s(s._f("dateFormat")(s.leaveDetail.createdAt)))])]),s._v(" "),t("div",{staticClass:"column flex gap-4"},[t("h4",{staticClass:"has-text-black"},[s._v("Leave Type")]),s._v(" "),t("h4",{staticClass:"has-text-grey-light"},[s._v(s._s(s.leaveDetail.leaveType))])]),s._v(" "),s._m(0)]),s._v(" "),t("div",{staticClass:"columns"},[t("div",{staticClass:"column flex gap-4"},[t("h4",{staticClass:"has-text-black"},[s._v("Start Date")]),s._v(" "),t("h4",{staticClass:"has-text-grey-light"},[s._v(s._s(s._f("dateFormat")(s.leaveDetail.startDate)))])]),s._v(" "),t("div",{staticClass:"column flex gap-4"},[t("h4",{staticClass:"has-text-black"},[s._v("End Date")]),s._v(" "),t("h4",{staticClass:"has-text-grey-light"},[s._v(s._s(s._f("dateFormat")(s.leaveDetail.endDate)))])]),s._v(" "),t("div",{staticClass:"column flex gap-4"},[t("h4",{staticClass:"has-text-black"},[s._v("Days To End Date")]),s._v(" "),t("h4",{staticClass:"has-text-grey-light"},[s._v(s._s(s.daysToEndDate))])]),s._v(" "),t("div",{staticClass:"column flex gap-4"},[t("h4",{staticClass:"has-text-black"},[s._v("Reason")]),s._v(" "),t("h4",{staticClass:"has-text-grey-light"},[s._v(s._s(s.leaveDetail.status))])])]),s._v(" "),t("div",{staticClass:"columns"},[t("div",{staticClass:"column flex gap-4"},[t("h4",{staticClass:"has-text-black"},[s._v("Leave Balance")]),s._v(" "),t("h4",{staticClass:"has-text-grey-light"},[s._v(s._s(s.leaveBalance)+" days")])]),s._v(" "),t("div",{staticClass:"column flex gap-4"},[t("h4",{staticClass:"has-text-black"},[s._v("Balance After Approval")]),s._v(" "),t("h4",{staticClass:"has-text-grey-light"},[s._v(s._s(s.balanceAfterApproval))])]),s._v(" "),t("div",{staticClass:"column flex gap-4"},[t("h4",{staticClass:"has-text-black"},[s._v("Leave Period in Days")]),s._v(" "),t("h4",{staticClass:"has-text-grey-light"},[s._v(s._s(s.leaveDetail.numberOfDays))])]),s._v(" "),s._m(1)]),s._v(" "),t("div",{staticClass:"flex justify-center"},[t("button",{staticClass:"button is-primary is-rounded is-small mr-5",on:{click:s.confirmApproval}},[t("span",[s._v("\n\t\t\t\t\t\tApprove\n                    ")])]),s._v(" "),t("button",{staticClass:"button is-rounded is-light is-small",on:{click:s.openRejectDialog}},[t("span",[s._v("\n\t\t\t\t\t\tReject\n                    ")])])])]),s._v(" "),s._m(2),s._v(" "),t("LeaveRequestHistoryList")],1)};e._withStripped=!0;var i=a(399).a,l=a(15),r=Object(l.a)(i,e,[function(){var s=this._self._c;return s("div",{staticClass:"column flex gap-4"},[s("h4",{staticClass:"has-text-black"},[this._v("Status")]),this._v(" "),s("h4",{staticClass:"has-text-grey-light"},[this._v("Status")])])},function(){var s=this._self._c;return s("div",{staticClass:"column flex gap-4"},[s("h4",{staticClass:"has-text-black"},[this._v("Employee Department")]),this._v(" "),s("h4",{staticClass:"has-text-grey-light"},[this._v("Status")])])},function(){var s=this._self._c;return s("div",{staticClass:"mt-1 bg-white"},[s("div",{staticClass:"tabs"},[s("ul",[s("li",{staticClass:"is-active"},[s("a",[this._v("Leave Request History")])])])])])}],!1,null,null,null);t.default=r.exports}}]);